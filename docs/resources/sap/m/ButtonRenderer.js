/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/Device","sap/ui/core/library","sap/ui/core/IconPool","sap/ui/core/ShortcutHintsMixin","sap/m/library","sap/ui/core/InvisibleText"],function(e,t,a,i,n,s){"use strict";var r=n.ButtonType;var c=n.ButtonAccessibilityType;var l=t.TextDirection;var o={apiVersion:2};o.render=function(t,n){var s=n.getId();var c=n.getType();var d=n.getEnabled();var u=n.getWidth();var b=n._getTooltip();var I=n._getText();var T=n.getTextDirection();var A=e.browser.internet_explorer||e.browser.edge;var f=T===l.Inherit&&!A;var g=a.getIconURI("nav-back");var _;var v=n._getHintAccessibility();var B;if(v&&v[s]){B=v[s].keyShortcuts}t.openStart("button",n);t.class("sapMBtnBase");if(!n._isUnstyled()){t.class("sapMBtn");if((c===r.Back||c===r.Up)&&n._getAppliedIcon()&&!I){t.class("sapMBtnBack")}}var y=o.generateAccProps(n);if(B){y["keyshortcuts"]=B}if(this.renderAccessibilityAttributes){this.renderAccessibilityAttributes(t,n,y)}t.accessibilityState(n,y);if(!d){t.attr("disabled","disabled");if(!n._isUnstyled()){t.class("sapMBtnDisabled")}}else{switch(c){case r.Accept:case r.Reject:case r.Emphasized:case r.Attention:t.class("sapMBtnInverted");break;default:break}}if(b&&!i.isDOMIDRegistered(s)){t.attr("title",b)}if(u!=""||u.toLowerCase()==="auto"){t.style("width",u);if(n._getAppliedIcon()&&I){_="4rem"}else{_="2.25rem"}t.style("min-width",_)}p(n,t);t.openEnd();t.openStart("span",s+"-inner");if(!n._isUnstyled()){t.class("sapMBtnInner")}if(n._isHoverable()){t.class("sapMBtnHoverable")}if(d){t.class("sapMFocusable");if(A){t.class("sapMIE")}}if(!n._isUnstyled()){if(I){t.class("sapMBtnText")}if(c===r.Back||c===r.Up){t.class("sapMBtnBack")}if(n._getAppliedIcon()){if(n.getIconFirst()){t.class("sapMBtnIconFirst")}else{t.class("sapMBtnIconLast")}}}if(this.renderButtonAttributes){this.renderButtonAttributes(t,n)}if(!n._isUnstyled()&&c!==""){t.class("sapMBtn"+c)}p(n,t);t.openEnd();if(c===r.Back||c===r.Up){this.writeInternalIconPoolHtml(t,n,g)}if(n.getIconFirst()&&n._getAppliedIcon()){this.writeImgHtml(t,n)}if(I){t.openStart("span",s+"-content");t.class("sapMBtnContent");if(T!==l.Inherit){t.attr("dir",T.toLowerCase())}t.openEnd();if(f){t.openStart("bdi",s+"-BDI-content");t.openEnd()}t.text(I);if(f){t.close("bdi")}t.close("span")}if(!n.getIconFirst()&&n._getAppliedIcon()){this.writeImgHtml(t,n)}if(A&&d){t.openStart("span");t.class("sapMBtnFocusDiv");t.openEnd();t.close("span")}t.close("span");if(b){t.openStart("span",s+"-tooltip");t.class("sapUiInvisibleText");t.openEnd();t.text(b);t.close("span")}t.close("button")};o.writeImgHtml=function(e,t){e.renderControl(t._getImage(t.getId()+"-img",t._getAppliedIcon(),t.getActiveIcon(),t.getIconDensityAware()))};o.writeInternalIconPoolHtml=function(e,t,a){e.renderControl(t._getInternalIconBtn(t.getId()+"-iconBtn",a))};function p(e,t){if(e._bExcludeFromTabChain){t.attr("tabindex",-1)}}var d={Accept:"BUTTON_ARIA_TYPE_ACCEPT",Reject:"BUTTON_ARIA_TYPE_REJECT",Attention:"BUTTON_ARIA_TYPE_ATTENTION",Emphasized:"BUTTON_ARIA_TYPE_EMPHASIZED",Critical:"BUTTON_ARIA_TYPE_CRITICAL",Negative:"BUTTON_ARIA_TYPE_NEGATIVE",Success:"BUTTON_ARIA_TYPE_SUCCESS"};o.getButtonTypeAriaLabelId=function(e){return s.getStaticId("sap.m",d[e])};o.generateAccProps=function(e){var t=e._getText(),a;if(t){a=o.generateTextButtonAccProps(e)}else{a=o.generateIconOnlyButtonAccProps(e)}a["disabled"]=null;return a};o.generateIconOnlyButtonAccProps=function(e){var t=o.getButtonTypeAriaLabelId(e.getType()),a=e._getTooltip(),i=e.getId()+"-tooltip",n=e._determineAccessibilityType(),s={};switch(n){case c.Default:s["label"]={value:a,append:true};break;case c.Described:s["label"]={value:a,append:true};s["describedby"]={value:(i+" "+t).trim(),append:true};break;case c.Labelled:s["describedby"]={value:i,append:true};break;case c.Combined:s["describedby"]={value:(i+" "+t).trim(),append:true};break;default:break}return s};o.generateTextButtonAccProps=function(e){var t=e.getId(),a=o.getButtonTypeAriaLabelId(e.getType()),i=e._getTooltip()?t+"-tooltip":"",n=t+"-content",s=e._determineAccessibilityType(),r=e._determineSelfReferencePresence(),l={},p;switch(s){case c.Default:i&&(l["describedby"]={value:i,append:true});break;case c.Described:p=(i+" "+a).trim();p&&(l["describedby"]={value:p,append:true});break;case c.Labelled:r&&(l["labelledby"]={value:n,append:true});i&&(l["describedby"]={value:i,append:true});break;case c.Combined:p=(i+" "+a).trim();p&&(l["describedby"]={value:p,append:true});r&&(l["labelledby"]={value:n,append:true});break;default:break}return l};return o},true);