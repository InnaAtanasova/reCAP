/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/library","sap/ui/core/theming/Parameters","sap/ui/layout/library","sap/ui/layout/form/Form"],function(e,t,r,i){"use strict";var a=e.TitleLevel;var n=r.BackgroundDesign;var l={};l.render=function(e,t){var r=e;var a=t.getParent();if(a&&a instanceof i){this.renderForm(r,t,a)}};l.renderForm=function(e,r,i){var a=i.getToolbar();e.write("<div");e.writeControlData(r);e.addClass(this.getMainClass());if(a){e.addClass("sapUiFormToolbar")}this.addBackgroundClass(e,r);e.writeClasses();e.write(">");var n;if(!a){n=t.get("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize")}this.renderHeader(e,a,i.getTitle(),undefined,false,n,i.getId());this.renderContainers(e,r,i);e.write("</div>")};l.getMainClass=function(){return"sapUiFormLayout"};l.addBackgroundClass=function(e,t){var r=t.getBackgroundDesign();if(r!=n.Transparent){e.addClass("sapUiFormBackgr"+r)}};l.renderContainers=function(e,t,r){var i=r.getVisibleFormContainers();for(var a=0,n=i.length;a<n;a++){var l=i[a];this.renderContainer(e,t,l)}};l.renderContainer=function(e,t,r){var i=r.getExpandable();var n=r.getToolbar();var l=r.getTitle();e.write("<section");e.writeElementData(r);e.addClass("sapUiFormContainer");if(n){e.addClass("sapUiFormContainerToolbar")}else if(l){e.addClass("sapUiFormContainerTitle")}if(r.getTooltip_AsString()){e.writeAttributeEscaped("title",r.getTooltip_AsString())}e.writeClasses();this.writeAccessibilityStateContainer(e,r);e.write(">");this.renderHeader(e,n,l,r._oExpandButton,i,a.H4,r.getId());if(i){e.write("<div id='"+r.getId()+"-content'");if(!r.getExpanded()){e.addStyle("display","none");e.writeStyles()}e.write(">")}var o=r.getVisibleFormElements();for(var s=0,d=o.length;s<d;s++){var g=o[s];this.renderElement(e,t,g)}if(i){e.write("</div>")}e.write("</section>")};l.renderElement=function(e,t,r){var i=r.getLabelControl();e.write("<div");e.writeElementData(r);e.addClass("sapUiFormElement");if(i){e.addClass("sapUiFormElementLbl")}e.writeClasses();e.write(">");if(i){e.renderControl(i)}var a=r.getFieldsForRendering();if(a&&a.length>0){for(var n=0,l=a.length;n<l;n++){var o=a[n];e.renderControl(o)}}e.write("</div>")};l.renderTitle=function(e,r,i,n,l,o){if(r){var s=t.get("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize");if(l){s=l}if(typeof r!=="string"&&r.getLevel()!=a.Auto){s=r.getLevel()}e.write("<"+s+" ");e.addClass("sapUiFormTitle");e.addClass("sapUiFormTitle"+s);if(typeof r!=="string"){e.writeElementData(r);if(r.getTooltip_AsString()){e.writeAttributeEscaped("title",r.getTooltip_AsString())}if(r.getEmphasized()){e.addClass("sapUiFormTitleEmph")}}else{e.writeAttribute("id",o+"--title")}e.writeClasses();e.write(">");if(n&&i){e.renderControl(i)}if(typeof r==="string"){e.writeEscaped(r,true)}else{var d=r.getIcon();if(d){var g=[];var f={title:null};f["id"]=r.getId()+"-ico";e.writeIcon(d,g,f)}e.writeEscaped(r.getText(),true)}e.write("</"+s+">")}};l.renderHeader=function(e,t,r,i,a,n,l){if(t){e.renderControl(t)}else{this.renderTitle(e,r,i,a,n,l)}};l.writeAccessibilityStateContainer=function(e,t){var i={};var a=t.getTitle();var n=t.getToolbar();if(n){if(!t.getAriaLabelledBy()||t.getAriaLabelledBy().length==0){var l=r.form.FormHelper.getToolbarTitle(n);i["labelledby"]={value:l,append:true}}}else if(a){var o="";if(typeof a=="string"){o=t.getId()+"--title"}else{o=a.getId()}i["labelledby"]={value:o,append:true}}if(i["labelledby"]||t.getAriaLabelledBy().length>0){i["role"]="form"}e.writeAccessibilityState(t,i)};return l},true);